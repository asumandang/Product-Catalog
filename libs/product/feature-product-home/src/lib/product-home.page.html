<ion-header>
  <ion-toolbar>
    <ion-title> Products </ion-title>
  </ion-toolbar>
  <ion-toolbar>
    <ion-searchbar
      [debounce]="debounceTime"
      (ionInput)="searchProduct($event)"
    ></ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list>
    <ng-container
      *rxIf="isLoading$; then loading; else products"
    ></ng-container>
  </ion-list>
</ion-content>

<ng-template #products>
  <ion-item *rxFor="let product of product$; trackBy: 'id'; let index = index">
    <pc-product-card
      [product]="product"
      [isPriority]="index < 5"
    ></pc-product-card>
  </ion-item>
</ng-template>

<ng-template #loading>
  <ion-item *rxFor="let x of [1,2]">
    <pc-product-card [product]="null"></pc-product-card>
  </ion-item>
</ng-template>
