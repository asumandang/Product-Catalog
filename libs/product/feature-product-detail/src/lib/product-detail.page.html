<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button
        icon="caret-back"
        defaultHref="/products"
      ></ion-back-button>
    </ion-buttons>
    <ion-title> Products </ion-title>
    <ion-progress-bar
      *rxIf="isLoading$"
      type="indeterminate"
    ></ion-progress-bar>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid [fixed]="true">
    <ion-row *rxIf="product$; let product; else noProduct">
      <ion-col size-md="6" size="12" class="image-container">
        <img
          class="product-image"
          [ngSrc]="product.imageUrl"
          width="300"
          height="300"
          priority
      /></ion-col>
      <ion-col size-md="6" size="12">
        <h2 class="product-name">{{product.name}}</h2>
        <dl>
          <dt>Price</dt>
          <dd class="product-price item-details product-price">
            {{product.price | currency: 'PHP'}}
          </dd>
          @if(product.discount > 0){
          <dt>Discounted Price</dt>
          <dd class="item-details">
            {{product.discountedPrice | currency: 'PHP'}}
          </dd>
          <dt>Discount</dt>
          <dd class="item-details">{{product.discount}}%</dd>
          }
        </dl>
        <p class="product-description">{{product.description}}</p>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>

<!-- Template if Product is not Found-->
<ng-template #noProduct>
  <ion-row>
    <ion-col size="12" class="no-product-text">No Product Found</ion-col>
  </ion-row>
</ng-template>
