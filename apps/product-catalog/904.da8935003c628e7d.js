"use strict";(self.webpackChunkproduct_catalog=self.webpackChunkproduct_catalog||[]).push([[904],{904:(I,d,e)=>{e.r(d),e.d(d,{ProductDetailPage:()=>R});var l=e(177),t=e(3953),c=e(6424),p=e(9244),g=e(5079),h=e(5873),m=e(8439),f=e(4768),a=e(6354),P=e(3294),F=e(8141),v=e(5558),$=e(9807);let u=(()=>{class n{constructor(){this._route=(0,t.WQX)(m.nX),this._productService=(0,t.WQX)($.b),this._state=(0,f.Eh)(({set:i})=>{i({product:null,action:"initial",errorMessage:null})}),this.product$=this._state.select("product").pipe((0,a.T)(i=>i?{...i,discountedPrice:i.price-i.price*(i.discount/100)}:null)),this.isLoading$=this._state.select("action").pipe((0,a.T)(i=>"pending"===i));const o=this._route.params.pipe((0,a.T)(i=>i.id),(0,P.F)(),(0,F.M)(()=>this._state.set(i=>({...i,action:"pending",product:null}))));this._state.connect(o.pipe((0,v.n)(i=>this._productService.getProduct(i))),(i,r)=>({...i,product:r,action:"done"}))}static#t=this.\u0275fac=function(i){return new(i||n)};static#i=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}return n})();function E(n,s){1&n&&t.nrm(0,"ion-progress-bar",6)}function D(n,s){if(1&n&&(t.j41(0,"dt"),t.EFF(1,"Discounted Price"),t.k0s(),t.j41(2,"dd",13),t.EFF(3),t.nI1(4,"currency"),t.k0s(),t.j41(5,"dt"),t.EFF(6,"Discount"),t.k0s(),t.j41(7,"dd",13),t.EFF(8),t.k0s()),2&n){const o=t.XpG().$implicit;t.R7$(3),t.SpI(" ",t.i5U(4,2,o.discountedPrice,"PHP")," "),t.R7$(5),t.SpI("",o.discount,"%")}}function j(n,s){if(1&n&&(t.j41(0,"ion-row")(1,"ion-col",7),t.nrm(2,"img",8),t.k0s(),t.j41(3,"ion-col",9)(4,"h2",10),t.EFF(5),t.k0s(),t.j41(6,"dl")(7,"dt"),t.EFF(8,"Price"),t.k0s(),t.j41(9,"dd",11),t.EFF(10),t.nI1(11,"currency"),t.k0s(),t.DNE(12,D,9,5),t.k0s(),t.j41(13,"p",12),t.EFF(14),t.k0s()()()),2&n){const o=s.$implicit;t.R7$(2),t.Y8G("ngSrc",o.imageUrl),t.R7$(3),t.JRh(o.name),t.R7$(5),t.SpI(" ",t.i5U(11,5,o.price,"PHP")," "),t.R7$(2),t.vxM(o.discount>0?12:-1),t.R7$(2),t.JRh(o.description)}}function x(n,s){1&n&&(t.j41(0,"ion-row")(1,"ion-col",14),t.EFF(2,"No Product Found"),t.k0s()())}let R=(()=>{class n{constructor(){this._stateService=(0,t.WQX)(u,{self:!0}),this.product$=this._stateService.product$,this.isLoading$=this._stateService.isLoading$,this.id="",(0,g.a)({caretBack:h.DQR})}ngOnInit(){console.log(this.id)}static#t=this.\u0275fac=function(i){return new(i||n)};static#i=this.\u0275cmp=t.VBU({type:n,selectors:[["pc-product-detail"]],inputs:{id:[2,"id","id",t.Udg]},standalone:!0,features:[t.Jv_([],[u]),t.GFd,t.aNF],decls:12,vars:4,consts:[["noProduct",""],["slot","start"],["icon","caret-back","defaultHref","/products"],["type","indeterminate",4,"rxIf"],[3,"fixed"],[4,"rxIf","rxIfElse"],["type","indeterminate"],["size-md","6","size","12",1,"image-container"],["width","300","height","300","priority","",1,"product-image",3,"ngSrc"],["size-md","6","size","12"],[1,"product-name"],[1,"product-price","item-details","product-price"],[1,"product-description"],[1,"item-details"],["size","12",1,"no-product-text"]],template:function(i,r){if(1&i&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1),t.nrm(3,"ion-back-button",2),t.k0s(),t.j41(4,"ion-title"),t.EFF(5," Products "),t.k0s(),t.DNE(6,E,1,0,"ion-progress-bar",3),t.k0s()(),t.j41(7,"ion-content")(8,"ion-grid",4),t.DNE(9,j,15,8,"ion-row",5),t.k0s()(),t.DNE(10,x,3,0,"ng-template",null,0,t.C5r)),2&i){const C=t.sdS(11);t.R7$(6),t.Y8G("rxIf",r.isLoading$),t.R7$(2),t.Y8G("fixed",!0),t.R7$(),t.Y8G("rxIf",r.product$)("rxIfElse",C)}},dependencies:[c.eU,c.ai,c.BC,c.FH,c.W9,c.lO,c.ln,c.hU,c.QW,c.el,l.kt,p.a,l.oe],styles:["[_nghost-%COMP%]{display:block}.image-container[_ngcontent-%COMP%]{text-align:center}.product-image[_ngcontent-%COMP%]{object-fit:contain}.item-details[_ngcontent-%COMP%]{margin-bottom:.5em}.no-product-text[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0})}return n})()}}]);